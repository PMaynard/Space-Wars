<html>
<head>
<meta charset="utf-8">
<script src="jquery-2.1.1.min.js"></script>
<script src="lib.js"></script>

<style type="text/css">
body {
	background-color: black;
}

#canvas { tex-align: center;}
</style>

<canvas id="canvas" width="500" height="500">
Your browser does not support the HTML5 Canvas element.
Please update your browser.
</canvas>

<script>

function draw() {
	clear();
	// Update player from controls
	if (rightDown) player_x += 3;
	else if (leftDown) player_x -= 3;
	if (upDown) player_y -= 3;
	else if (downDown) player_y += 3;

	// Draw Player
	var player = new rect(player_x, player_y, player_w, player_h);

	// Edge Detection - Move to function for future objects
	if (player_x > WIDTH)
		player_x = 0;
	else if (player_x < 0)
		player_x = WIDTH

	if (player_y > HEIGHT)
		player_y = 0;
	else if (player_y < 0)
		player_y = HEIGHT;

	// Player Action Space - Move bullets to class for well you know
	if(spaceDown && !bullet){
		spaceDown = false;
		bullet = true;
		bullet_x = player_x;
		bullet_y = player_y;
		circle(bullet_x, bullet_y, 2);
	}

	if(bullet) {
		circle(bullet_x, bullet_y, 2);
		bullet_x += bullet_speed;

		// Blow up them targets!!
		for(i = 0; i < NCOLS; i++) {
			if(bullet_x <= targets[i].getX() && bullet_y <= targets[i].getY()){
				targets[i].setDraw(false);
				break;
			}
		}
		
		if(bullet_x > WIDTH)
			bullet = false;
	}

	// Draw Targets
	for(i = 0; i < NCOLS; i++) {
		if(targets[i].getDraw())
		rect(
			targets[i].getX(),
			targets[i].getY(),
			targets[i].getW(),
			targets[i].getH()
			);
	}

	// DEBUG - Hit return 
	if(debug) { 
		debug = false; 
		console.log("X: ", player.getX(), "Y: ", player.getY());
	}
}

init();
init_player();
init_targets();
</script>

</head>

<body>

</body>
</html>